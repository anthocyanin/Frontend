<!DOCTYPE html>
<html>
<head>
	<title>cookies study</title>
	<script type="text/javascript">
		/*下面的函数首先会检查 document.cookie 对象中是否存有 cookie。假如 document.cookie 对象存有某些 cookie，那么会继续检查我们指定的 
		cookie 是否已储存。如果找到了我们要的 cookie，就返回值，否则返回空字符串。*/
		function getCookie(c_name)
		{
			if (document.cookie.length>0)
				{	
					c_start=document.cookie.indexOf(c_name + "=")
					if (c_start!= -1)
						{	
							c_start = c_start + c_name.length + 1
							c_end = document.cookie.indexOf(";",c_start)
							if (c_end==-1)
								c_end=document.cookie.length
							return unescape(document.cookie.substring(c_start, c_end))
						}
				}
			return ""
		}

		function setCookie(c_name, value, expiredays)
		{
			var exdate=new Date()
			exdate.setDate(exdate.getDate()+expiredays)
			document.cookie=c_name+ "=" + escape(value) +
			((expiredays==null) ? "" : "; expires="+exdate.toGMTString())
		}
		
		function checkCookie()
		{
			username=getCookie('username')
			if (username!=null && username!="")
				{
					alert('welcome again'+ username+'!')
				}
			else
				{	
					username=prompt('please enter your name:',"")
					if (username!=null && username!="")
						{	
							setCookie('username',username,365)
						}
				}
		}
	</script>
</head>
<body onload="checkCookie()">
</body>
</html>